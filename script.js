const korean = {
  1: "머마 마머 머마 러라 러라 러라 럼 람 말 멀 멀럼 람말 랄랄 멈멈 멀말",
  2: "니 니 닌니 니닌 리 리 너 너 나 나 미남 림 나니 밀 님 넘 리넘 라님",
  3: "아 이 어 망 닝 렁 아말 난잉 이랑 알아 멍멍 얼마 일이 인멍 아나 엉",
  4: "호 호 호 오호 나하 미노 민하 홍님 라힌 외 와 왕호 이호 홈 민호 뇌 뫼 뢰 하하 ",
  5: "바 빠 베 뻬 바뻬 빠베 베비 뽀호 베리 바빠 오바 레몬 멘 방 엥엥 뽀뽀 나빠 베베 엡 발레",
  6: "재 째 자 짜 째 재 앱 해 왜 왠지 째쟂 지방 내일 매너 어제 잘래 빨래",
  7: "댜 땨 야 냐 야 야 냐 냐 말하냐 다따 달라 덜리네 제대로 야한 절대야 게다가 이때",
  8: "겨 껴 겨 껴 고 꼬 긴념일 견디다 건물 여자 것 까까 연말 열다 미녀 꼬마 고맙다",
  9: "쇼 쏘 쏘 쑈 씨 소 쇼미더머니 가세요 주세요 새롭다 쌤 입었다 열었어요 싼 선물",
  10: "크 트 트 크 크 트 카레 끝 카운트 의사 트로트 칼 키스 스트리트 텔레비전 킅 틐",
  11: "추 추 추 추 반찬 위 청춘 꽃 추천 출구 귀신 우산 무료 스위치 동물 치즈",
  12: "퓨 퓨 퓨 퓨 퓨 퓨 퓨 컴퓨터 숲 뮤지션 귤 슈퍼 우유 풀다 유행 파스타 유럽 판매 한류",
  13: [
    "것",
    "하다",
    "있으니까",
    "되십시오",
    "나",
    "없었어요",
    "사람",
    "우리",
    "아니야",
    "같은",
    "대한",
    "년",
    "때문에",
    "말하겠습니다",
    "위한",
    "그러나",
    "알겠어",
    "그렇다면",
    "또",
    "사회",
    "많았지요",
    "좋을까",
    "더",
    "받을래",
    "그것",
    "집",
    "나올거야",
    "그리고",
    "문제",
    "그런",
    "살았다",
    "생각했으면",
    "모르겠다",
    "속",
    "만들었지만",
    "데",
    "두",
    "앞",
    "경우",
    "중",
    "어떤",
    "잘",
    "그녀",
    "올게요",
    "문화",
    "생각",
    "어땠어요",
    "명",
    "통하고",
    "그러다",
    "소리",
    "다시",
    "다른",
    "이런",
    "여자",
    "정도",
    "뒤",
    "듣겠습니다",
    "좀",
    "싶었어요",
    "함께",
    "지나면",
    "많이",
    "너",
    "주세요",
    "인간",
    "이렇면",
    "어머니",
    "의합니다",
    "시대",
    "다음",
    "이러하니까",
    "누구",
    "곳",
    "여러",
    "세계",
    "운동",
    "퍼센트",
    "학교",
    "대통령",
    "시작하려면",
    "바로",
    "어느",
    "무엇",
    "정부",
    "모든",
    "번",
    "그거",
    "돈",
    "국가",
    "그런데",
    "날",
    "여기",
    "여성",
    "친구",
    "마음",
    "후",
    "가는데",
    "관계",
    "아버지",
    "남자",
    "몸",
    "얼굴",
    "들어가는데요",
    "왜",
    "나타나면",
    "지역",
    "다릅니다",
    "모습",
    "물",
    "만날",
    "보였어",
    "이것",
    "없이",
    "이번",
    "길",
    "생활",
    "뿐",
    "사이",
    "방법",
    "새로운",
    "우리나라",
    "내는데",
    "앉으세요",
    "처음",
    "손",
    "그때",
    "삶",
    "찾았습니다",
    "특히",
    "지금",
    "이야기",
    "교육",
    "사려면",
    "경제",
    "아직",
    "잡을 거이에요",
    "같이",
    "선생님",
    "예술",
    "서다",
    "역사",
    "읽을까",
    "결과",
    "내용",
    "동안",
    "책",
    "일어나야 돼요",
    "당신",
    "넣다",
    "중요하잖아",
    "무슨",
    "느끼잖아",
    "어렵다",
    "힘",
    "너무",
    "나라",
    "의미",
    "밝혔어요",
    "이미",
    "정치",
    "국민",
    "생명",
    "얘기",
    "학생",
    "연구",
    "엄마",
    "이름",
    "하나",
    "내리면",
    "사건",
    "및",
    "쉽다",
    "짓다",
    "또한",
    "이유",
    "또는",
    "필요한다면",
    "글",
    "생겼어",
    "사용하기로",
    "남편",
    "들어오기로",
    "밖",
    "세상",
    "작네",
    "대학",
    "작품",
    "상황",
    "가운데",
    "보냈다고",
    "즉",
    "따라서",
    "상태",
    "이후",
    "당시",
    "문학",
    "더욱",
    "아주",
    "높은",
    "최근",
    "현실",
    "환경",
    "컴퓨터",
    "먼저",
    "다니려면",
    "얼마나",
    "자체",
    "열었어요",
    "머리",
    "남을 거야",
    "부분",
    "기업",
    "거기",
    "변화",
    "아들",
    "뜻",
    "아",
    "기다릴 게요",
    "떨어졌다",
    "선거",
    "관해요",
    "그냥",
    "나눴습니다",
    "이용하지요",
    "거의",
    "곧",
    "중심",
    "활동",
    "관심",
    "역시",
    "이거",
    "광고",
    "나니까",
    "방",
    "정신",
    "땅",
    "이루면",
    "아침",
    "웃었어요",
    "현상",
    "두다",
    "떠날 거예요",
    "기술",
    "전체",
    "얻었어",
    "아름다운",
    "끝",
    "민족",
    "조사",
    "듯",
    "입",
    "뭐",
    "그대로",
    "영화",
    "필요",
    "하늘",
    "년대",
    "과학",
    "듯하는데",
    "자연",
    "구조",
    "결국",
    "밥",
    "입어야 돼",
    "오히려",
    "프로그램",
    "이루어지면",
    "하루",
    "그림",
    "마셔라",
    "혼자",
    "나갔으니까",
    "이제",
    "교수",
    "사랑",
    "전화",
    "끝났습니다",
    "돌아왔는데",
    "아빠",
    "걸렸어",
    "지켜라",
    "한번",
    "커피",
    "가슴",
    "길으면",
    "바라보잖아",
    "알아보세요",
    "회사",
    "맛",
    "대부분",
    "산업",
    "매우",
    "오르니까",
    "음식",
    "표정",
    "일부",
    "요즘",
    "계획",
    "느낌",
    "얼마",
    "성격",
    "계속",
    "세기",
    "세웠어요",
    "아내",
    "가족",
    "놓다",
    "놀다",
    "향하다",
    "관련",
    "형태",
    "각",
    "도시",
    "작업",
    "분위기",
    "그러하다고",
    "자기",
    "나이",
    "우선",
    "믿다",
    "바꿨지만",
    "낳다",
    "정보",
    "좋아한다고",
    "그리면",
    "만큼",
    "배울 때",
    "역할",
    "옆",
    "행동",
    "어",
    "국내",
    "비했는데",
    "기관",
    "입장",
    "만하고",
    "아래",
    "방식",
    "영향",
    "나서지만",
    "흐르면",
    "깊었던",
    "내",
    "산",
    "하지만",
    "조건",
    "문",
    "꽃",
    "단계",
    "올렸던",
    "그동안",
    "교사",
    "갑자기",
    "넘다",
    "지니다",
    "잘하겠습니다",
    "마을",
    "대표",
    "가능성",
    "방향",
    "대회",
    "목소리",
    "노래",
    "바다",
    "힘들다면",
    "공부",
    "움직이는데도",
    "의원",
    "노력",
    "전혀",
    "언니",
    "단체",
    "분",
    "알려졌던",
    "가능하긴",
    "능력",
    "주장하기로",
    "자식",
    "돌렸다",
    "불",
    "주민",
    "모았지만",
    "자료",
    "존재",
    "학년",
    "신문",
    "가질 수 없어",
    "이해하세요",
    "제품",
    "분야",
    "선생",
    "돌아간다니까",
    "사업",
    "행위",
    "수준",
    "지난해",
    "표현",
    "기분",
    "젊었던",
    "동시",
    "옷",
    "순간",
    "전쟁",
    "꿈",
    "할머니",
    "방송",
    "이야기하려고",
    "나무",
    "자게 되었다",
    "연극",
    "오늘",
    "마찬가지",
    "노동",
    "이때",
    "가치",
    "시간",
    "집단",
    "현대",
    "살펴봤어요",
    "장관",
    "차이",
    "풀다",
    "시절",
    "물건",
    "개인",
    "근데",
    "발",
    "작가",
    "효과",
    "불교",
    "끌다",
    "대로",
    "빨리",
    "시작되었다",
    "둘",
    "설명하지",
    "우주",
    "마치",
    "생산",
    "바라다면",
    "강하잖아요",
    "경험",
    "음악",
    "최고",
    "나타낼 거야",
    "아프지",
    "고향",
    "놀랐어",
    "다양하니까",
    "울다",
    "농민",
    "드러나지만",
    "은행",
    "지내고 있어",
    "결혼",
    "동생",
    "소설",
    "오후",
    "질서",
    "담다",
    "모였다",
    "시민",
    "회장",
    "빠르면",
    "아기",
    "아저씨",
    "옛날",
    "이날",
    "제대로",
    "던지고 있어",
    "공간",
    "이곳",
    "딸",
    "마지막",
    "벌이지요",
    "병원",
    "자세",
    "강조하구만",
    "경찰",
    "저녁",
    "그러면",
    "기자",
    "넓으면",
    "시험",
    "잠",
    "주로",
    "훨씬",
    "통일",
    "들어서지만",
    "건강",
    "가깝게 돼요",
    "건물",
    "시설",
    "외국",
    "밑",
    "어른",
    "주변",
    "대신",
    "원인",
    "팔다고 했다",
    "차례",
    "열심히",
    "일하는 중이에요",
    "재산",
    "팀",
    "부모",
    "언어",
    "요구해요",
    "올라가세요",
    "첫",
    "감독",
    "그날",
    "사실",
    "자주",
    "당한다고",
    "삼다",
    "기간",
    "담배",
    "일으켰어요",
    "일단",
    "할아버지",
    "조직",
    "태어날 거야",
    "공장",
    "벌써",
    "즐겨웠던",
    "지",
    "환자",
    "변하다",
    "그래도",
    "아무리",
    "맞추다",
    "쌀",
    "일반",
    "재미있겠어요",
    "가르칠 수 없어요",
    "대화",
    "막으면",
    "올해",
    "달리",
    "버린다고 했으니까",
    "붙이세요",
    "인물",
    "늘",
    "모두",
    "전국",
    "마치지",
    "전",
    "다만",
    "도움",
    "걸었다",
    "멀러요",
    "버스",
    "오늘날",
    "농업",
    "대다",
    "식",
    "의견",
    "무대",
    "사진",
    "주장",
    "표현하겠습니다",
    "인하니까",
    "이상하지요",
    "제일",
    "붙을 수 없었다",
    "아마",
    "얘기하려교 해요",
    "잇다",
    "조금",
    "목적",
    "태도",
    "남성",
    "주위",
    "대책",
    "그만",
    "발생했는데",
    "재료",
    "결코",
    "옮기고 있어요",
    "항상",
    "잃었다는",
    "자유",
    "책임",
    "바뀔 수 없잖아",
    "비슷한다고 생각해요",
    "심하지요",
    "경쟁",
    "사랑하지마세요",
    "여름",
    "자라면",
    "회",
    "구체적",
    "기회",
    "실시하지 뭐",
    "번째",
    "소비자",
    "싫단 말이에요",
    "규모",
    "기준",
    "반드시",
    "셈",
    "갖추면",
    "그러니까",
    "받아들일 게요",
    "값",
    "현장",
    "건설",
    "꺼냈나요",
    "노동자",
    "동네",
    "언제나",
    "완전히",
    "자동차",
    "전하세요",
    "존재한 것",
    "개월",
    "별로",
    "어린이",
    "정하다",
    "한마디",
    "유지할 수 없는데요",
    "이데올로기",
    "공부하자",
    "대중",
    "늘어났으면",
    "닦아 주세요",
    "말씀",
    "괜찮으니까",
    "눈물",
    "각종",
    "빛",
    "아니",
    "피하지요",
    "거치지요",
    "나아갈 수록",
    "야",
    "지식",
    "현재",
    "여전히",
    "주인",
    "발견했어요",
    "선",
    "인류",
    "특징",
    "선수",
    "형식",
    "마련하는데요",
    "발표할 거예요",
    "주제",
    "걸치려면",
    "겪었다",
    "관점",
    "귀",
    "기본",
    "미터",
    "사라졌잖아",
    "어떠할까요",
    "감정",
    "기억",
    "놈",
    "인기",
    "아파트",
    "가끔",
    "구성",
    "술",
    "실제로",
    "짧게",
    "고맙구만",
    "그곳",
    "보다",
    "비롯하길 바랍니다",
    "과연",
    "들리다",
    "바쁘다",
    "이전",
    "인정하자",
    "중앙",
    "나쁜데",
    "불구하고",
    "시키다",
    "게임",
    "국제",
    "그룹",
    "인생",
    "전통",
    "기르니까",
    "잔",
    "조사하지요",
    "커다랗네요",
    "시인",
    "외",
    "평가",
    "내려온다고 했어",
    "위치",
    "줄이려면",
    "가격",
    "달라질 거야",
    "비다",
    "삼국",
    "손님",
    "원하려면",
    "통신",
    "확인하기로",
    "모임",
    "아무",
    "웃음",
    "기계",
    "모양",
    "물질",
    "아나운서",
    "뉴스",
    "살아갈까요",
    "펴다",
    "겨울",
    "종교",
    "층",
    "자연스럽습니다",
    "돌다",
    "식사",
    "안다",
    "잊었다",
    "제시하길 바랍니다",
    "반",
    "불과하려고",
    "혹은",
    "엄청나게",
    "텔레비전",
    "파악하지",
    "실천",
    "노력하세요",
    "보호",
    "씻었지",
    "한편",
    "이웃",
    "편지",
    "공동",
    "까닭",
    "방안",
    "센티미터",
    "분명하려고 했어요",
    "분석",
    "소녀",
    "지나갈 거야",
    "상품",
    "설명",
    "훌륭하는데",
    "관계자",
    "새로",
    "이어지면",
    "티브이",
    "봄",
    "종류",
    "낮다",
    "어깨",
    "지적하지마",
    "부부",
    "오래",
    "요구",
    "키웠다고 그랬어",
    "눕다",
    "발달하다", // ㅗㄷㄱㄷ
    "발전하다",
    "여행",
    "죽음",
    "고통",
    "등장하다",
    "공",
    "듯이",
    "어울리다",
    "오월",
    "알리다",
    "멀리",
    "빼다",
    "예정",
    "오빠",
    "즐겁다",
    "한계",
    "흔히",
    "바탕",
    "사월",
    "싸우다",
    "언제",
    "예쁘다",
    "갈등",
    "느껴지다",
    "의지",
    "전문",
    "정확하다",
    "초기",
    "나중",
    "맛있다",
    "며칠",
    "신경",
    "찾아오다",
    "미",
    "사용",
    "시선",
    "아무런",
    "언론",
    "투자",
    "지원",
    "결정하다",
    "경영",
    "목표",
    "성장",
    "숲",
    "없어지다",
    "작년",
    "내려가다",
    "떠오르다",
    "새벽",
    "쓰레기",
    "얼른",
    "피해",
    "무섭다",
    "직장",
    "참다",
    "크기",
    "고기",
    "남기다",
    "서양",
    "주요",
    "가져오다",
    "냄새",
    "부드럽다",
    "여기다",
    "공연",
    "남녀",
    "내놓다",
    "떼다",
    "만들어지다",
    "속도",
    "심각하다",
    "준비",
    "계속되다",
    "구월",
    "맑다",
    "소년",
    "소식",
    "유월",
    "작용",
    "허리",
    "골",
    "공업",
    "그중",
    "노인",
    "벌다",
    "살리다",
    "영어",
    "출신",
    "결정",
    "경향",
    "기록",
    "나름",
    "대답하다",
    "반면",
    "썰다",
    "움직임",
    "이미지",
    "터지다",
    "특성",
    "교장",
    "벗다",
    "업무",
    "입시",
    "준비하다",
    "청소년",
    "돕다",
    "응",
    "이기다",
    "찾아보다",
    "다루다",
    "달",
    "사장",
    "삼월",
    "그렇지만",
    "선배",
    "업체",
    "키",
    "국회",
    "그러므로",
    "포함하다",
    "걱정",
    "결혼하다",
    "만약",
    "세월",
    "숨",
    "깨닫다",
    "누나",
    "왕",
    "점점",
    "질문",
    "특별",
    "판단",
    "해결하다",
    "계속하다",
    "그치다",
    "근처",
    "너무나",
    "높이다",
    "부정",
    "사정",
    "도대체",
    "부모님",
    "수출",
    "그",
    "자르다",
    "데리다",
    "마리",
    "무척",
    "비용",
    "비행기",
    "옳다",
    "원래",
    "처리",
    "최초",
    "꼴",
    "놀이",
    "뜨겁다",
    "뿌리",
    "그리하여",
    "낮",
    "일찍",
    "직원",
    "찍다",
    "가볍다",
    "내부",
    "다소",
    "상대",
    "오전",
    "피부",
    "가게",
    "가득",
    "그저",
    "벽",
    "장군",
    "무역",
    "부담",
    "약속",
    "줄",
    "쳐다보다",
    "충분히",
    "신체",
    "에너지",
    "위원",
    "정리하다",
    "집안",
    "배경",
    "죽이다",
    "단순하다",
    "반대",
    "법칙",
    "빠지다",
    "소금",
    "오염",
    "자전거",
    "참여하다",
    "탓",
    "푸르다",
    "그래",
    "목",
    "발표",
    "범죄",
    "흔들다",
    "기초",
    "논리",
    "드라마",
    "뽑다",
    "피우다",
    "감각",
    "미리",
    "부족하다",
    "저희",
    "진행되다",
    "교통",
    "법",
    "오랜",
    "젊은이",
    "후보",
    "과제",
    "근거",
    "기록하다",
    "다가오다",
    "불다",
    "이끌다",
    "종합",
    "한글",
    "가을",
    "개발하다",
    "떨다",
    "손가락",
    "수단",
    "자유롭다",
    "적극적",
    "판매",
    "형성",
    "기울이다",
    "길이",
  ],
  encouragements: [
    "할 수 있어요!",
    "힘내자~",
    "화이팅!!",
    "잘 해보자~",
    "열공하자!!",
    "최고야!",
    "천리길도 한 걸음부터.",
    "시작이 반이다!",
    "티끌 모아 태산.",
    "한 우물을 파라.",
    "개천에서 용 난다.",
    "뜻이 있는 곳에 길이 있다.",
    "배움에는 왕도가 없다!",
    "오늘 한 시간이 내일 두 시간 보다 가치있다.",
  ],
};

const levels = [
  "ㅁ,ㄹ,ㅓ,ㅏ",
  "ㄴ,ㅣ",
  "ㅇ",
  "ㅎ,ㅗ",
  "ㅂ,ㅃ,ㅔ,ㅖ",
  "ㅈ,ㅉ,ㅐ,ㅒ",
  "ㄷ,ㄸ,ㅑ",
  "ㄱ,ㄲ,ㅕ",
  "ㅅ,ㅆ,ㅛ",
  "ㅋ,ㅡ,ㅌ",
  "ㅊ,ㅜ",
  "ㅍ,ㅠ",
];

let my_url = './sentences.json'

const fetchFunction = async (url) => {
	try {
		let response = await fetch(url);
		let commits = await response.json();
		console.log(commits);
	} catch (error) {
		console.log(error);
	}
}


fetchFunction(my_url)

const textDisplayElement = document.getElementById("textDisplay");
const textInputElement = document.getElementById("textInput");
const progressBar = document.getElementById("progressBar");
let wpm = document.getElementById("wpm");
let startTime, endTime, totalTime;
let started = false;
let complete = false;
let now, stringCount, wordCount, currentWpm;

textInputElement.addEventListener("input", () => {
  if (!started) {
    startTime = new Date();
    started = true;
    complete = false;
  }
  now = currentTime();
  const arrayText = textDisplayElement.querySelectorAll("span"); // selects all quote elements in tDE
  const arrayValue = textInputElement.value.split("").map((char) => {
    if (char === " ") {
      char = "␣";
    }
    return char;
  });
  let correct = true;
  stringCount = (string) => string.split("").filter((e) => e).length;
  wordCount = stringCount(textInputElement.value); // word count of currently input text
  testLength = stringCount(loadedText);

  //fill progress bar based on progress
  let completionPercentage = (wordCount / testLength) * 100;
  progressBar.style.width = `${completionPercentage}%`;

  // gives different colours depending on correctness
  arrayText.forEach((characterSpan, index) => {
    const character = arrayValue[index];
    if (character == null) {
      // if character has not been typed yet
      characterSpan.classList.remove("wrong-input");
      characterSpan.classList.remove("correct-input");
      correct = false;
    } else if (character === characterSpan.innerText) {
      characterSpan.classList.add("correct-input");
      characterSpan.classList.remove("wrong-input");
    } else {
      characterSpan.classList.add("wrong-input");
      characterSpan.classList.remove("correct-input");
      correct = false;
    }
  });

  if (correct) {
    renderKoreanText();
  }

  if (wordCount === testLength) {
    endTime = new Date();
  }
  currentWpm = Math.floor(wordCount / 2.65 / (now / 60));
  if (currentWpm !== Infinity && !isNaN(currentWpm)) {
    wpm.innerHTML = `WPM: ${currentWpm}`;
  } else {
    wpm.innerHTML = "WPM: 50";
  }
  if (endTime && !complete && correct) {
    totalTime = (endTime - startTime) / 1000;
    complete = true;
    started = false;
    progressBar.style.width = `0%`;
  }
});

// stores selected option in session storage so the dropdown list also works in chrome
const dropdownList = document.getElementById("levelSelector");
let secondLoad = sessionStorage.getItem("Loaded");
if (secondLoad) {
  document.getElementById("levelSelector").value =
    sessionStorage.getItem("selectedLevel");
}

let key = dropdownList.options[dropdownList.selectedIndex].value;

function storeMe(obj) {
  sessionStorage.setItem("selectedLevel", obj.options[obj.selectedIndex].value);
  secondLoad = true;
  sessionStorage.setItem("Loaded", secondLoad.value);
}

let currentLevel = document.getElementById("currentLevel");
function displayLevel() {
  if (key <= 12) {
    currentLevel.innerHTML = `Level ${key}: ${levels[key - 1]} `;
  } else if (key === 13) {
    currentLevel.innerHTML = "Game Mode";
  } else {
    currentLevel.innerHTML = `교보드`;
  }
}

// make multidimensional array for each ex for case 3 [[KeyD][KeyS,KeyL]]
let keyCodes = [];
let keyOff = [];
function keyColours() {
  switch (Number(key)) {
    case 1:
      keyCodes = ["KeyA", "KeyF", "KeyJ", "KeyK"];
      keyOff = [];
      break;
    case 2:
      keyCodes = ["KeyS", "KeyL"];
      keyOff = ["KeyA", "KeyF", "KeyJ", "KeyK"];
      break;
    case 3:
      keyCodes = ["KeyD"];
      keyOff = ["KeyS", "KeyL"];
      break;
    case 4:
      keyCodes = ["KeyG", "KeyH"];
      keyOff = ["KeyD"];
      break;
    case 5:
      keyCodes = ["KeyQ", "KeyP"];
      keyOff = ["KeyG", "KeyH"];
      break;
    case 6:
      keyCodes = ["KeyW", "KeyO"];
      keyOff = ["KeyQ", "KeyP"];
      break;
    case 7:
      keyCodes = ["KeyE", "KeyI"];
      keyOff = ["KeyW", "KeyO"];
      break;
    case 8:
      keyCodes = ["KeyR", "KeyU"];
      keyOff = ["KeyE", "KeyI"];
      break;
    case 9:
      keyCodes = ["KeyT", "KeyY"];
      keyOff = ["KeyR", "KeyU"];
      break;
    case 10:
      keyCodes = ["KeyZ", "KeyM", "KeyX"];
      keyOff = ["KeyT", "KeyY"];
      break;
    case 11:
      keyCodes = ["KeyC", "KeyN"];
      keyOff = ["KeyZ", "KeyM", "KeyX"];
      break;
    case 12:
      keyCodes = ["KeyV", "KeyB"];
      keyOff = ["KeyC", "KeyN"];
      break;
    default:
      keyCodes = [];
  }

  for (let i = 0; i < keyCodes.length; i++) {
    document
      .getElementById(`${keyCodes[i]}`)
      .classList.add("current-lesson-keys");
  }
  for (let i = 0; i < keyOff.length; i++) {
    document
      .getElementById(`${keyOff[i]}`)
      .classList.remove("current-lesson-keys");
  }
}

function getKoreanText() {
  let text = korean[key];
  let gameText = [];
  if (key > 13) {
    return "You reached the end.";
  } else if (key == 13) {
    while (gameText.length < 10) {
      gameText.push(text[getRandomInt(999)]);
    }
    gameText.push("");
    return gameText.join(" ");
  }
  return text;
}

// makes it possible for the user to select another level based on the dropdown
toNewLevel.addEventListener("click", () => location.reload());

let index = korean.encouragements.length;
let encouragingWords = document.getElementById("encouragements");
let loadedText;
// display text on screen and parse text into array
function renderKoreanText() {
  textDisplayElement.innerHTML = "";
  displayLevel();
  keyColours();
  encouragingWords.innerHTML = korean.encouragements[getRandomInt(index)];
  setTimeout(() => {
    encouragingWords.innerHTML = "";
  }, 3000);

  const text = getKoreanText();
  loadedText = text;
  if (key < 13) {
    key++;
  }

  text.split("").forEach((char) => {
    if (char === " ") {
      char = "␣";
    }
    const characterSpan = document.createElement("span"); //*
    characterSpan.innerText = char; //*
    textDisplayElement.appendChild(characterSpan); //* these three work together
  }); // each syllable is a span
  textInputElement.value = ""; // clears value when we get new text
}

// function so the pressed keys change colour
textInputElement.addEventListener("keyup", logKey);
function logKey(key) {
  let value = key.code;
  const focusedKey = document.getElementById(value);
  focusedKey.classList.add("key-on-focus");
  setTimeout(RemoveClass, 300);

  function RemoveClass() {
    focusedKey.classList.remove("key-on-focus");
  }
}

function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}

function currentTime() {
  return Math.floor((new Date() - startTime) / 1000); // time in seconds
}

const btn = document.querySelector(".keybr-btn");
const keybrDisplay = document.querySelector(".keybr-container");
btn.addEventListener("click", function () {
  if (!btn.classList.contains("slide")) {
    btn.classList.add("slide");
    btn.classList.add("inactive-switch");
    keybrDisplay.style.opacity = "0";
  } else {
    btn.classList.remove("slide"); //to reset the button
    btn.classList.remove("inactive-switch");
    keybrDisplay.style.opacity = "1";
  }
});

renderKoreanText();
